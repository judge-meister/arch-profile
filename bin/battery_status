#!/bin/bash

CHARGING="⚡"
EMPTY=" "
LEVEL20=" "
LEVEL40=" "
LEVEL60=" "
LEVEL80=" "
FULL=" "

status=$(cat /sys/class/power_supply/BAT0/status) 
capacity=$(cat /sys/class/power_supply/BAT0/capacity)

#echo "${capacity}% ${status}"
#echo "${capacity}%"

if [ "${status}" == "Full" ] || [ "${status}" == "Unknown" ]
then
  echo "${FULL}${capacity}%"

elif [ "${status}" == "Charging" ] 
then
  echo "${CHARGING}${capacity}%"

elif [ "${status}" == "Discharging" ]
then

  # show battery level symbol
  if   [ "${capacity}" -lt 10 ]; then echo "${EMPTY}${capacity}%"
  elif [ "${capacity}" -lt 30 ]; then echo "${LEVEL20}${capacity}%"
  elif [ "${capacity}" -lt 50 ]; then echo "${LEVEL40}${capacity}%"
  elif [ "${capacity}" -lt 70 ]; then echo "${LEVEL60}${capacity}%"
  elif [ "${capacity}" -lt 90 ]; then echo "${LEVEL80}${capacity}%"
  else                                echo "${FULL}${capacity}%"
  fi

  # set colours for low battery levels
  if [ "${capacity}" -le 15 ]
  then
    exit 33
  elif [ "${capacity}" -le 25 ]
  then
    echo "#FF8000"
  fi
else
  echo "${status}${capacity}%"
fi
exit 0
